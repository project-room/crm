<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.crm.biz.chance.dao.CstChanceMapper" >
  <resultMap id="BaseResultMap" type="com.crm.entity.CstChance" >
    <id column="ch_id" property="chId" jdbcType="BIGINT" />
    <result column="ch_content" property="chContent" jdbcType="VARCHAR" />
    <result column="ch_stage" property="chStage" jdbcType="INTEGER" />
    <result column="cust_id" property="custId" jdbcType="BIGINT" />
    <result column="ch_date" property="chDate" jdbcType="TIMESTAMP" />
    <result column="ch_money" property="chMoney" jdbcType="DOUBLE" />
    <result column="user_name" property="userName" jdbcType="VARCHAR" />
    <result column="user_id" property="userId" jdbcType="BIGINT" />
  </resultMap>
  <select id="findById" parameterType="Long" resultMap="BaseResultMap">
    SELECT * FROM cst_chance WHERE cust_id=#{id}
  </select>
  <insert id="addCstCustomer" parameterType="CstCustomer">
    INSERT INTO cst_chance (ch_content,ch_stage,cust_id,ch_date,ch_money,user_name,user_id)
    VALUES (#{chContent},#{chStage},#{custId},#{chDate},#{chMoney},#{userName},#{userId})
  </insert>
  <delete id="deleteById" parameterType="Long">
    DELETE FROM cst_chance WHERE cust_id=#{id}
  </delete>
  <update id="updateCstChanceById" parameterType="CstChance">
    UPDATE cst_chance SET ch_content=#{chContent},ch_stage=#{chStage},cust_id=#{custId},ch_date=#{chDate},ch_money=#{chMoney},user_name=#{userName},user_id=#{userId} WHERE ch_id=#{chId}
  </update>
</mapper>