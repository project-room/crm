<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.crm.biz.user.dao.UserTaskMapper" >
  <resultMap id="BaseResultMap" type="com.crm.entity.UserTask" >
    <id column="task_id" property="taskId" jdbcType="BIGINT" />
    <result column="task_status" property="taskStatus" jdbcType="INTEGER" />
    <result column="task_content" property="taskContent" jdbcType="VARCHAR" />
    <result column="task_date" property="taskDate" jdbcType="TIMESTAMP" />
    <result column="user_id" property="userId" jdbcType="BIGINT" />
    <result column="cst_id" property="cstId" jdbcType="BIGINT" />
  </resultMap>
  <select id="findById" parameterType="Long" resultMap="BaseResultMap">
    SELECT * FROM user_task WHERE task_id=#{id}
  </select>
  <insert id="addUserTask" parameterType="UserTask">
    INSERT INTO user_task (task_status,task_content,task_date,user_id,cst_id)
    VALUES (#{taskStatus},#{taskContent},#{taskDate},#{userId},#{cstId})
  </insert>
  <delete id="deleteById" parameterType="Long">
    DELETE FROM user_task WHERE task_id=#{id}
  </delete>
  <update id="updateUserTaskById" parameterType="UserTask">
    UPDATE user_task SET task_status=#{taskStatus},task_content=#{taskContent},task_date=#{taskDate},user_id=#{userId},cst_id=#{cstId} WHERE task_id=#{taskId}
  </update>
</mapper>